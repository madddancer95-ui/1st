---
import { artistsData } from '../../data/artists/artists-data.js';

const title = "Delhi's Top 8 Tattoo Artists | Expert Team at DelhiTattooShop.com";
const description = "Meet Delhi's most skilled tattoo artists. Professional artists specializing in realism, blackwork, fine line, Japanese art. Book consultation today.";

// Get all real artists (excluding template)
const artists = Object.entries(artistsData)
  .filter(([key, artist]) => key !== 'artist-slug') // Exclude template
  .map(([key, artist]) => ({
    id: key,
    rank_title: `${artist.title}`,
    name: artist.name,
    main_image: artist.profilePhoto,
    alt: `${artist.name} - ${artist.title}`,
    short_bio: artist.bio.intro,
    extended_bio: artist.bio.professional,
    specialties: artist.specialties,
    experience: artist.experience,
    stats: artist.stats,
    contact: artist.contact,
    portfolioPhotos: artist.portfolioPhotos,
    other_buttons: [
      { label: "View Details", action: "modal" },
      { label: "Book WhatsApp", href: `https://wa.me/${artist.contact.whatsapp}?text=Hi%2C%20I%27m%20interested%20in%20booking%20with%20${artist.name.replace(' ', '%20')}.%20Please%20share%20availability.` },
      { label: "Email Artist", href: `mailto:${artist.contact.email}` }
    ]
  }))
  .sort((a, b) => b.stats.yearsExperience - a.stats.yearsExperience); // Sort by experience
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{title}</title>
  <meta name="description" content={description}>
  
  <!-- SEO Meta Tags -->
  <meta name="keywords" content="tattoo artists Delhi, professional tattoo artists, best tattoo artists Delhi NCR, realism tattoo artists, blackwork specialists Delhi">
  <meta name="author" content="DelhiTattooShop.com">
  
  <!-- Open Graph -->
  <meta property="og:title" content={title}>
  <meta property="og:description" content={description}>
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://delhitattooshop.com/artists">
  
  <link rel="canonical" href="https://delhitattooshop.com/artists">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

  <style>
    /* Core Variables - Matching Original HTML */
    :root {
      --text: rgba(255,255,255,0.95);
      --muted: rgba(255,255,255,0.6);
      --border: rgba(255,255,255,0.2);
      --accent-primary: rgba(255,255,255,0.9);
      --accent-hover: rgba(255,255,255,0.1);
      --glass-radius: 16px;
      --blur: 15px;
      --primary: #fff;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #000 0%, #1a1a1a 100%);
      color: var(--text);
      line-height: 1.6;
      overflow-x: hidden;
      min-height: 100vh;
    }

    /* Header Styles - Matching Original */
    .header-outer {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      padding: 1rem 0;
    }

    .glass-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background: rgba(0,0,0,0.8);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 20px;
      margin: 0 2rem;
    }

    .brand {
      font-family: 'Playfair Display', serif;
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary);
      text-decoration: none;
      background: linear-gradient(135deg, #fff, #ccc);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .header-nav {
      display: flex;
      gap: 2rem;
      align-items: center;
    }

    .header-nav a {
      color: rgba(255,255,255,0.8);
      text-decoration: none;
      font-weight: 500;
      transition: all 0.3s ease;
      padding: 0.5rem 1rem;
      border-radius: 10px;
    }

    .header-nav a:hover,
    .header-nav a.active {
      color: #fff;
      background: rgba(255,255,255,0.1);
    }

    /* Main Content Styles */
    #apex-page {
      padding-top: 120px;
      background: linear-gradient(135deg, #000 0%, #1a1a1a 100%);
      min-height: 100vh;
    }

    .hero-section {
      padding: 60px 20px 80px;
      text-align: center;
      background: linear-gradient(135deg, rgba(0,0,0,0.9) 0%, rgba(26,26,26,0.9) 100%);
    }

    .hero-title {
      font-family: 'Playfair Display', serif;
      font-size: 3.5rem;
      font-weight: 700;
      background: linear-gradient(135deg, #fff, #ccc);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 1.5rem;
    }

    .hero-subtitle {
      font-size: 1.3rem;
      color: rgba(255,255,255,0.8);
      margin-bottom: 2rem;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }

    /* Artists Grid - Exact Match to Original */
    .artist-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      max-width: 1200px;
      margin: 0 auto;
      gap: 24px;
      margin-top: 40px;
      padding: 60px 20px;
    }

    .artist-card {
      background: linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
      border: 1px solid var(--border);
      border-radius: var(--glass-radius);
      backdrop-filter: blur(var(--blur));
      padding: 24px;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      min-height: 480px;
      justify-content: space-between;
      text-align: center;
    }

    .artist-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .artist-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4);
      border-color: rgba(255,255,255,0.25);
      background: linear-gradient(135deg, rgba(255,255,255,0.12), rgba(255,255,255,0.04));
    }

    .artist-card:hover::before {
      opacity: 1;
    }

    .artist-avatar-container {
      position: relative;
      display: inline-block;
      margin: 0 auto 20px;
    }

    .artist-avatar {
      width: 160px;
      height: 160px;
      border-radius: 12px;
      object-fit: cover;
      display: block;
      border: 2px solid rgba(255,255,255,0.15);
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }

    .artist-card:hover .artist-avatar {
      border-color: rgba(255,255,255,0.3);
      transform: scale(1.05);
    }

    .artist-rank {
      font-family: 'Playfair Display', serif;
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 12px;
      background: linear-gradient(135deg, var(--accent-primary), rgba(255,255,255,0.8));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-align: center;
      line-height: 1.3;
    }

    .artist-bio {
      color: var(--muted);
      font-size: 14px;
      line-height: 1.6;
      margin-bottom: 24px;
      text-align: center;
    }

    .artist-buttons {
      display: flex;
      flex-direction: column;
      gap: 13px;
      align-items: center;
      width: 100%;
      margin-top: auto;
    }

    .secondary-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 8px;
      width: 100%;
      margin-top: 8px;
    }

    .btn-artist-primary {
      padding: 13px 21px;
      background: linear-gradient(135deg, var(--accent-primary), rgba(255,255,255,0.8));
      color: #000;
      border: none;
      border-radius: 999px;
      font-weight: 600;
      font-size: 14px;
      transition: all 0.3s cubic-bezier(0.618, 0, 0.382, 1);
      cursor: pointer;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      width: 100%;
      max-width: 200px;
      min-height: 44px;
      letter-spacing: 0.3px;
    }

    .btn-artist-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(255,255,255,0.15);
    }

    .btn-artist-secondary {
      padding: 10px 16px;
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 999px;
      color: var(--text);
      font-weight: 500;
      font-size: 13px;
      transition: all 0.3s cubic-bezier(0.618, 0, 0.382, 1);
      cursor: pointer;
      text-decoration: none;
      text-align: center;
      width: 100%;
      min-height: 36px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .btn-artist-secondary:hover {
      background: var(--accent-hover);
      border-color: rgba(255,255,255,0.2);
      transform: translateY(-1px);
    }

    /* Modal Styles */
    .artist-modal {
      position: fixed;
      inset: 0;
      z-index: 100;
      background: rgba(0, 0, 0, 0.95);
      backdrop-filter: blur(20px);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .artist-modal.show {
      display: flex;
    }

    .modal-content {
      background: linear-gradient(135deg, rgba(20,20,20,0.95), rgba(30,30,30,0.95));
      border: 1px solid var(--border);
      border-radius: var(--glass-radius);
      backdrop-filter: blur(var(--blur));
      max-width: 900px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      padding: 32px;
      position: relative;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .modal-close {
      position: absolute;
      top: 16px;
      right: 16px;
      width: 32px;
      height: 32px;
      border: none;
      background: rgba(255,255,255,0.1);
      color: var(--text);
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      transition: all 0.3s ease;
    }

    .modal-close:hover {
      background: rgba(255,255,255,0.2);
      transform: scale(1.1);
    }

    .modal-body {
      display: grid;
      grid-template-columns: 300px 1fr;
      gap: 32px;
      align-items: start;
    }

    .modal-image {
      width: 100%;
      max-width: 300px;
      height: 300px;
      object-fit: cover;
      border-radius: 12px;
      border: 2px solid rgba(255,255,255,0.1);
    }

    .modal-info h2 {
      font-family: 'Playfair Display', serif;
      font-size: 2rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 8px;
    }

    .modal-bio {
      color: var(--muted);
      font-size: 16px;
      line-height: 1.6;
      margin-bottom: 24px;
    }

    .specialties-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 12px;
      margin-bottom: 24px;
    }

    .specialty-item {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 8px;
      padding: 8px 12px;
      text-align: center;
      font-size: 13px;
      color: var(--text);
    }

    /* Responsive */
    @media (max-width: 768px) {
      .glass-header {
        margin: 0 1rem;
        padding: 1rem;
        flex-direction: column;
        gap: 1rem;
      }

      .header-nav {
        gap: 1rem;
      }

      .hero-title {
        font-size: 2.5rem;
      }

      .artist-grid {
        grid-template-columns: 1fr;
        gap: 16px;
        padding: 40px 20px;
      }
      
      .artist-card {
        min-height: 420px;
        padding: 20px;
      }
      
      .secondary-buttons {
        grid-template-columns: 1fr;
        gap: 6px;
      }
      
      .btn-artist-secondary {
        font-size: 12px;
        padding: 8px 14px;
        min-height: 32px;
      }
      
      .btn-artist-primary {
        max-width: 180px;
        padding: 12px 18px;
      }

      .modal-body {
        grid-template-columns: 1fr;
        gap: 20px;
      }
      
      .modal-content {
        padding: 20px;
        margin: 10px;
      }

      .modal-image {
        max-height: 180px !important;
        object-fit: contain !important;
        margin-bottom: 12px !important;
        width: auto !important;
      }
    }
  </style>
</head>

<body id="apex-page">
  <!-- Header -->
  <div class="header-outer">
    <div class="glass-header">
      <a class="brand" href="/" aria-label="DelhiTattooShop.com home">
        DelhiTattooShop
      </a>
      
      <nav class="header-nav" aria-label="Primary navigation">
        <a href="/">Home</a>
        <a href="/artists" class="active">Our Artists</a>
        <a href="/pricing-calculator">Pricing</a>
        <div style="position: relative; display: inline-block;">
          <a href="#" onclick="toggleLocations(event)" style="position: relative;">
            Locations <i class="fas fa-chevron-down" style="font-size: 0.8rem; margin-left: 5px;"></i>
          </a>
          <div id="locations-menu" style="display: none; position: absolute; top: 100%; left: 0; background: linear-gradient(135deg, rgba(0,0,0,0.95), rgba(0,0,0,0.9)); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; backdrop-filter: blur(20px); min-width: 250px; z-index: 1000; padding: 15px 0; margin-top: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.5);">
            <a href="/connaught-place-tattoo-studio" class="location-link" style="display: block; padding: 12px 20px; color: rgba(255,255,255,0.8); text-decoration: none; transition: all 0.3s ease; border-radius: 8px; margin: 2px 10px;">üìç Connaught Place</a>
            <a href="/karol-bagh-tattoo-shop" class="location-link" style="display: block; padding: 12px 20px; color: rgba(255,255,255,0.8); text-decoration: none; transition: all 0.3s ease; border-radius: 8px; margin: 2px 10px;">üè™ Karol Bagh</a>
            <a href="/khan-market-tattoo-studio" class="location-link" style="display: block; padding: 12px 20px; color: rgba(255,255,255,0.8); text-decoration: none; transition: all 0.3s ease; border-radius: 8px; margin: 2px 10px;">üëë Khan Market</a>
            <a href="/greater-kailash-tattoo" class="location-link" style="display: block; padding: 12px 20px; color: rgba(255,255,255,0.8); text-decoration: none; transition: all 0.3s ease; border-radius: 8px; margin: 2px 10px;">üè° Greater Kailash</a>
            <a href="/nehru-place-tattoo-services" class="location-link" style="display: block; padding: 12px 20px; color: rgba(255,255,255,0.8); text-decoration: none; transition: all 0.3s ease; border-radius: 8px; margin: 2px 10px;">üíª Nehru Place</a>
          </div>
        </div>
        <a href="#book">Book Now</a>
      </nav>
    </div>
  </div>

  <!-- Hero Section -->
  <section class="hero-section">
    <h1 class="hero-title">Delhi's Top 8 Tattoo Artists</h1>
    <p class="hero-subtitle">
      Meet our professional team of tattoo artists. Each specialist brings years of experience and unique artistic vision. 
      Choose the perfect artist for your dream tattoo.
    </p>
  </section>

  <!-- Artists Grid -->
  <main>
    <div class="artist-grid" id="artists-container" role="list" aria-label="Our Tattoo Artists">
      <!-- Artists will be populated by JavaScript -->
    </div>
  </main>

  <!-- Artist Modal -->
  <div id="artistModal" class="artist-modal">
    <div class="modal-content">
      <button class="modal-close" onclick="closeModal()">
        <i class="fas fa-times"></i>
      </button>
      
      <div class="modal-body">
        <img id="modalImage" src="" alt="" class="modal-image">
        
        <div class="modal-info">
          <h2 id="modalTitle">Artist Name</h2>
          <p id="modalBio" class="modal-bio"></p>
          
          <div class="specialties-grid" id="modalSpecialties">
            <!-- Specialties will be populated -->
          </div>
          
          <div class="artist-buttons">
            <div class="secondary-buttons" id="modalButtons">
              <!-- Buttons will be populated -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script define:vars={{ artists }}>
    // Artists data from Astro frontmatter (passed via define:vars)

    // Render artists grid
    function renderArtists() {
      const container = document.getElementById('artists-container');
      
      artists.forEach(artist => {
        const card = document.createElement('div');
        card.className = 'artist-card';
        
        card.innerHTML = `
          <div class="artist-avatar-container">
            <img src="${artist.main_image}" alt="${artist.alt}" class="artist-avatar">
          </div>
          <h3 class="artist-rank">${artist.rank_title}</h3>
          <p class="artist-bio">${artist.short_bio}</p>
          
          <div class="artist-buttons">
            ${artist.other_buttons.map(button => {
              if (button.action === 'modal') {
                return `<button onclick="openModal('${artist.id}')" class="btn-artist-primary">
                         <i class="fas fa-info-circle"></i> ${button.label}
                        </button>`;
              }
            }).filter(Boolean).join('')}
            <div class="secondary-buttons">
              ${artist.other_buttons.filter(button => button.action !== 'modal').map(button => {
                let icon = '';
                if (button.label.includes('WhatsApp') || button.label.includes('Book')) {
                  icon = 'fab fa-whatsapp';
                } else if (button.label.includes('Email')) {
                  icon = 'fas fa-envelope';
                } else if (button.label.includes('Call')) {
                  icon = 'fas fa-phone';
                } else {
                  icon = 'fas fa-external-link-alt';
                }
                
                return `<a href="${button.href}" target="_blank" class="btn-artist-secondary">
                         <i class="${icon}"></i> ${button.label}
                        </a>`;
              }).join('')}
            </div>
          </div>
        `;
        
        container.appendChild(card);
      });
    }

    let currentArtistIndex = 0;
    
    function openModal(artistId) {
      const artist = artists.find(a => a.id === artistId);
      if (!artist) return;
      
      currentArtistIndex = artists.findIndex(a => a.id === artistId);
      const modal = document.getElementById('artistModal');
      modal.style.opacity = '0.7';
      
      setTimeout(() => {
        document.getElementById('modalTitle').textContent = artist.name;
        document.getElementById('modalImage').src = artist.main_image;
        document.getElementById('modalImage').alt = artist.alt;
        document.getElementById('modalBio').textContent = artist.extended_bio;
        
        // Populate specialties
        const specialtiesContainer = document.getElementById('modalSpecialties');
        specialtiesContainer.innerHTML = artist.specialties.map(specialty => 
          `<div class="specialty-item">${specialty}</div>`
        ).join('');
        
        // Populate modal buttons
        const buttonsContainer = document.getElementById('modalButtons');
        buttonsContainer.innerHTML = artist.other_buttons.filter(button => button.action !== 'modal').map(button => {
          let icon = '';
          if (button.label.includes('WhatsApp') || button.label.includes('Book')) {
            icon = 'fab fa-whatsapp';
          } else if (button.label.includes('Email')) {
            icon = 'fas fa-envelope';
          } else if (button.label.includes('Call')) {
            icon = 'fas fa-phone';
          } else {
            icon = 'fas fa-external-link-alt';
          }
          
          return `<a href="${button.href}" target="_blank" class="btn-artist-secondary">
                   <i class="${icon}"></i> ${button.label}
                  </a>`;
        }).join('');
        
        modal.style.opacity = '1';
      }, 200);
      
      modal.classList.add('show');
      document.body.style.overflow = 'hidden';
    }
    
    function closeModal() {
      const modal = document.getElementById('artistModal');
      modal.classList.remove('show');
      document.body.style.overflow = 'auto';
    }
    
    // Close modal when clicking outside
    document.getElementById('artistModal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeModal();
      }
    });
    
    // Location dropdown functionality
    function toggleLocations(event) {
      event.preventDefault();
      const menu = document.getElementById('locations-menu');
      if (!menu) return;
      
      if (menu.style.display === 'block') {
        menu.style.display = 'none';
      } else {
        menu.style.display = 'block';
      }
    }

    // Close dropdown when clicking outside
    document.addEventListener('click', function(event) {
      const menu = document.getElementById('locations-menu');
      const trigger = event.target.closest('[onclick*="toggleLocations"]');
      if (!trigger && menu && menu.style.display === 'block') {
        menu.style.display = 'none';
      }
    });

    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
      renderArtists();
      
      const menu = document.getElementById('locations-menu');
      if (menu) {
        menu.style.display = 'none';
      }
    });
  </script>
</body>
</html>